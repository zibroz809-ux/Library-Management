<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.library.controllers.DashboardController"
            styleClass="root-pane">

    <!-- SIDEBAR -->
    <left>
        <VBox styleClass="sidebar" prefWidth="220">
            <Label text="ðŸ“š LIBRARY" styleClass="sidebar"/>
            
            <Button fx:id="btnHome" text="ðŸ  Dashboard" styleClass="sidebar,button,active" onAction="#switchToDashboard"/>
            <Button fx:id="btnBooks" text="ðŸ“• Books" styleClass="sidebar,button" onAction="#switchToBooks"/>
            <Button fx:id="btnBorrowers" text="ðŸ‘¥ Borrowers" styleClass="sidebar,button" onAction="#switchToBorrowers"/>
            <Button fx:id="btnBranches" text="ðŸ¢ Branches" styleClass="sidebar,button" onAction="#switchToBranches"/>
            <Button fx:id="btnLoans" text="ðŸ’³ Loans" styleClass="sidebar,button" onAction="#switchToLoans"/>
            
            <Separator />
            
            <Button text="âš™ï¸ Settings" styleClass="sidebar,button"/>
            <Button text="â„¹ï¸ About" styleClass="sidebar,button"/>
            <Button text="ðŸšª Logout" styleClass="sidebar,button" onAction="#logout"/>
            
            <Region VBox.vgrow="ALWAYS"/>
            
            <Label text="v1.0" styleClass="label-subtitle" style="-fx-padding: 10 20; -fx-text-fill: #90A4AE;"/>
        </VBox>
    </left>

    <!-- MAIN CONTENT AREA -->
    <center>
        <VBox styleClass="content-area">
            
            <!-- TOP HEADER -->
            <VBox styleClass="header-panel" spacing="10">
                <Label text="ðŸ“Š Welcome to Library Management System" styleClass="header-title"/>
                <Label fx:id="labelDate" text="Today" styleClass="label-subtitle" style="-fx-text-fill: #E0E0E0;"/>
            </VBox>

            <!-- STATISTICS CARDS -->
            <ScrollPane fitToWidth="true" style="-fx-border-color: transparent; -fx-background-color: transparent;">
                <VBox spacing="20" style="-fx-padding: 20;">
                    
                    <!-- Stats Row 1 -->
                    <HBox spacing="20">
                        <!-- Total Books Card -->
                        <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                            <Label fx:id="statTotalBooks" text="0" styleClass="stat-number"/>
                            <Label text="Total Books" styleClass="stat-label"/>
                        </VBox>
                        
                        <!-- Total Borrowers Card -->
                        <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                            <Label fx:id="statTotalBorrowers" text="0" styleClass="stat-number"/>
                            <Label text="Total Borrowers" styleClass="stat-label"/>
                        </VBox>
                        
                        <!-- Active Loans Card -->
                        <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                            <Label fx:id="statActiveLoans" text="0" styleClass="stat-number" style="-fx-text-fill: #FF9800;"/>
                            <Label text="Active Loans" styleClass="stat-label"/>
                        </VBox>
                        
                        <!-- Overdue Loans Card -->
                        <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                            <Label fx:id="statOverdueLoans" text="0" styleClass="stat-number" style="-fx-text-fill: #f44336;"/>
                            <Label text="Overdue Loans" styleClass="stat-label"/>
                        </VBox>
                    </HBox>

                    <!-- QUICK ACTIONS -->
                    <VBox spacing="15" style="-fx-padding: 20;">
                        <Label text="âš¡ Quick Actions" styleClass="label-title"/>
                        <HBox spacing="15">
                            <Button text="âž• New Loan" styleClass="btn-primary,btn-large" onAction="#openAddLoan"/>
                            <Button text="ðŸ“• Add Book" styleClass="btn-success,btn-large" onAction="#openAddBook"/>
                            <Button text="ðŸ‘¥ Add Borrower" styleClass="btn-info,btn-large" onAction="#openAddBorrower"/>
                            <Button text="âœ“ Return Book" styleClass="btn-warning,btn-large" onAction="#openReturnBook"/>
                        </HBox>
                    </VBox>

                    <!-- RECENT ACTIVITY -->
                    <VBox spacing="15" styleClass="card" style="-fx-padding: 20;">
                        <Label text="ðŸ“‹ Recent Activity" styleClass="label-title"/>
                        <TableView fx:id="tableRecentActivity" prefHeight="200">
                            <columns>
                                <TableColumn text="Action" prefWidth="150"/>
                                <TableColumn text="Details" prefWidth="250"/>
                                <TableColumn text="Date/Time" prefWidth="120"/>
                            </columns>
                        </TableView>
                    </VBox>

                    <!-- INFO CARDS -->
                    <HBox spacing="20">
                        <VBox styleClass="card" HBox.hgrow="ALWAYS">
                            <Label text="â„¹ï¸ System Information" styleClass="label-title"/>
                            <Label text="Java Version:" styleClass="label-subtitle"/>
                            <Label fx:id="infoJavaVersion" text="Java 21" styleClass="label" style="-fx-text-fill: #2196F3; -fx-font-weight: bold;"/>
                            <Label text="Data Location:" styleClass="label-subtitle" style="-fx-padding: 10 0 0 0;"/>
                            <Label text="data/" styleClass="label" style="-fx-text-fill: #2196F3; -fx-font-weight: bold;"/>
                        </VBox>

                        <VBox styleClass="card" HBox.hgrow="ALWAYS">
                            <Label text="ðŸŽ¯ Getting Started" styleClass="label-title"/>
                            <Label text="1. Add borrowers first" styleClass="label-subtitle"/>
                            <Label text="2. Add books to library" styleClass="label-subtitle" style="-fx-padding: 5 0 0 0;"/>
                            <Label text="3. Create loans" styleClass="label-subtitle" style="-fx-padding: 5 0 0 0;"/>
                            <Label text="4. Track returns" styleClass="label-subtitle" style="-fx-padding: 5 0 0 0;"/>
                        </VBox>
                    </HBox>

                </VBox>
            </ScrollPane>

        </VBox>
    </center>

</BorderPane>
